var app=angular.module("myPortfolio");app.controller("skills",function($scope,$http){$scope.getSkills=function(){$scope.$parent.nLoads++,$http.get("/db/skills/"+$scope.language).success(function(records){$scope.$parent.nLoads--;for(var aux,skills=[],firstCol=[],secondCol=[],thirdCol=[],i=0;i<records.length;i++)switch(aux=(i+1)%3){case 1:firstCol.push(records[i]);break;case 2:secondCol.push(records[i]);break;case 0:thirdCol.push(records[i])}skills.push(firstCol),skills.push(secondCol),skills.push(thirdCol),$scope.skills=skills,$scope.$parent.tab="skills"}).error(function(error){$scope.$parent.nLoads--,alert("Skills could not be retrieved:"+error)})},$scope.getOffset=function(index){return 0===index?2:1},$scope.$on("reloadSkills",function(){$scope.getSkills()}),$scope.getSkills()});