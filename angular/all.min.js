var app=angular.module("myPortfolio",["ngRoute","ngSanitize"]),app=angular.module("myPortfolio");app.controller("about",function($scope){$scope.$parent.tab="about"});var app=angular.module("myPortfolio");app.controller("bio",function($scope){$scope.$parent.tab="aboutMe"});var app=angular.module("myPortfolio");app.controller("experience",function($scope,$http){$scope.getExperience=function(){$scope.$parent.nLoads++,$http.get("/db/experience/"+$scope.language).success(function(records){$scope.$parent.nLoads--,$scope.expRecords=records,$scope.$parent.tab="experience"}).error(function(error){$scope.$parent.nLoads--,alert("Experience could not be retrieved:"+error)})},$scope.$on("reloadExperience",function(){$scope.getExperience()}),$scope.getExperience()});var app=angular.module("myPortfolio");app.controller("footer",function($scope){$('[data-toggle="popover"]').popover()});var app=angular.module("myPortfolio");app.controller("home",function($scope){$scope.$parent.tab="home"});var app=angular.module("myPortfolio");app.controller("main",function($http,$scope){$scope.cookieMsgVisible=function(){return"undefined"==typeof Storage?null!==$scope.getCookie("cookieMsg")?!1:!0:null!==localStorage.getItem("cookieMsg")?!1:!0},$scope.addCookie=function(cookieName,cookieValue){document.cookie=cookieName+"="+cookieValue},$scope.getCookie=function(cookieName){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var aux=cookies[i].trim().split("=");if(aux[0]===cookieName)return aux[1]}return null},$scope.removeCookieMsg=function(){"undefined"!=typeof Storage?localStorage.setItem("cookieMsg","hide"):$scope.addCookie("cookieMsg","hide")},$scope.getLanguage=function(){var storedLanguage=$scope.getStoredLang();if(null===storedLanguage){var browserLang=(navigator.language||navigator.userLanguage).split("-")[0];return"es"===browserLang?"spa":"eng"}return storedLanguage},$scope.getLabels=function(){$scope.nLoads++,$http.get("/db/labels/"+$scope.language).success(function(labelsArray){$scope.nLoads--;for(var labelsHash=Object,i=0;i<labelsArray.length;i++)labelsHash[labelsArray[i].tag]=labelsArray[i].text;$scope.labels=labelsHash}).error(function(error){$scope.nLoads--,alert("Translations could not be retrieved:"+error)})},$scope.isLangSelected=function(lang){return lang===$scope.language},$scope.storeLanguage=function(){"undefined"!=typeof Storage?localStorage.setItem("lang",$scope.language):$scope.addCookie("lang",$scope.language)},$scope.getStoredLang=function(){return"undefined"!=typeof Storage?localStorage.getItem("lang"):$scope.getCookie("lang")},$scope.setLang=function(lang){$scope.language=lang,$scope.storeLanguage(),$scope.getLabels(),$scope.isSelected("experience")?$scope.$broadcast("reloadExperience"):$scope.isSelected("skills")&&$scope.$broadcast("reloadSkills")},$scope.isSelected=function(tab){return $scope.tab===tab?!0:!1},$scope.isLoading=function(){return $scope.nLoads>0?!0:!1},$(document).on("click",function(){$(".navbar-collapse.in").collapse("hide")}),$scope.nLoads=0,$scope.language=$scope.getLanguage(),$scope.getLabels()});var app=angular.module("myPortfolio");app.controller("skills",function($scope,$http){$scope.getSkills=function(){$scope.$parent.nLoads++,$http.get("/db/skills/"+$scope.language).success(function(records){$scope.$parent.nLoads--;for(var aux,skills=[],firstCol=[],secondCol=[],thirdCol=[],i=0;i<records.length;i++)switch(aux=(i+1)%3){case 1:firstCol.push(records[i]);break;case 2:secondCol.push(records[i]);break;case 0:thirdCol.push(records[i])}skills.push(firstCol),skills.push(secondCol),skills.push(thirdCol),$scope.skills=skills,$scope.$parent.tab="skills"}).error(function(error){$scope.$parent.nLoads--,alert("Skills could not be retrieved:"+error)})},$scope.getOffset=function(index){return 0===index?2:1},$scope.$on("reloadSkills",function(){$scope.getSkills()}),$scope.getSkills()});var app=angular.module("myPortfolio");app.config(function($routeProvider,$locationProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/",{templateUrl:"/views/home.html",controller:"home"}).when("/bio",{templateUrl:"/views/bio.html",controller:"bio"}).when("/experience",{templateUrl:"/views/experience.html",controller:"experience"}).when("/skills",{templateUrl:"/views/skills.html",controller:"skills"}).when("/about",{templateUrl:"/views/about.html",controller:"about"})});